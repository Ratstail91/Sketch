startup:
	run the load script
	...
end

normal:
	draw map to the screen
	click left: call lua click left --can be extened later
	key down: call lua key down --can be extended later
end

scripts:
	new map
	load map
	save map
end

-------------------------

Lua:

mapframe --global userdata refering to the mapframe in C++
region --type

region = newregion(x, y, l)